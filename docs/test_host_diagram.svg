<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="911px" preserveAspectRatio="none" style="width:601px;height:911px;background:#1B1B1B;" version="1.1" viewBox="0 0 601 911" width="601px" zoomAndPan="magnify"><title>Home Lab Infra Monitor - /host/status endpoint test (pytest + FastAPI)</title><defs/><g><rect fill="#1B1B1B" height="911" style="stroke:none;stroke-width:1;" width="601" x="0" y="0"/><g class="title" data-source-line="1"><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="558.8311" x="20" y="32.9951">Home Lab Infra Monitor - /host/status endpoint test (pytest + FastAPI)</text></g><ellipse cx="300.9155" cy="57.2969" fill="#DDDDDD" rx="10" ry="10" style="stroke:#DDDDDD;stroke-width:1;"/><rect fill="#313139" height="47.9375" rx="12.5" ry="12.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="334.8359" x="133.4976" y="87.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="75.3984" x="143.4976" y="108.4355">Pytest starts</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="314.8359" x="143.4976" y="122.4043">`test_host_status_endpoint_structure_and_ranges()`</text><rect fill="#313139" height="47.9375" rx="12.5" ry="12.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="130.8887" x="235.4712" y="155.2344"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="99.334" x="245.4712" y="176.373">TestClient sends</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="110.8887" x="245.4712" y="190.3418">`GET /host/status`</text><rect fill="#313139" height="47.9375" rx="12.5" ry="12.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="191.2578" x="205.2866" y="223.1719"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="171.2578" x="215.2866" y="244.3105">FastAPI app handles request</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="161.7832" x="215.2866" y="258.2793">and returns JSON response</text><rect fill="#313139" height="47.9375" rx="12.5" ry="12.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="158.4336" x="221.6987" y="291.1094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="138.4336" x="231.6987" y="312.248">Test receives response</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84.1875" x="231.6987" y="326.2168">as `response`</text><rect fill="#313139" height="47.9375" rx="12.5" ry="12.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="213.0371" x="194.397" y="359.0469"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60.0586" x="204.397" y="380.1855">Assertion:</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="193.0371" x="204.397" y="394.1543">`response.status_code == 200`</text><rect fill="#313139" height="47.9375" rx="12.5" ry="12.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="169.1914" x="216.3198" y="426.9844"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="104.0859" x="226.3198" y="448.123">Parse JSON body:</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="149.1914" x="226.3198" y="462.0918">`data = response.json()`</text><rect fill="#313139" height="89.8438" rx="12.5" ry="12.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="210.8398" x="195.4956" y="494.9219"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="181.752" x="205.4956" y="516.0605">Check expected keys present:</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="190.8398" x="205.4956" y="530.0293">"hostname", "uptime_seconds",</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120.5449" x="205.4956" y="543.998">"cpu_load_percent",</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="152.0742" x="205.4956" y="557.9668">"memory_used_percent",</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="122.2734" x="205.4956" y="571.9355">"disk_used_percent"</text><rect fill="#313139" height="75.875" rx="12.5" ry="12.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="166.0918" x="217.8696" y="604.7656"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78.6738" x="227.8696" y="625.9043">Type checks:</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="101.1855" x="227.8696" y="639.873">- hostname is str</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="138.3867" x="227.8696" y="653.8418">- uptime_seconds is int</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="146.0918" x="227.8696" y="667.8105">- *_percent is int or float</text><rect fill="#313139" height="89.8438" rx="12.5" ry="12.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="274.2793" x="163.7759" y="700.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="166.2656" x="173.7759" y="721.7793">Range checks (sanity only):</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="140.9004" x="173.7759" y="735.748">- uptime_seconds &gt;= 0</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="222.75" x="173.7759" y="749.7168">- 0.0 &lt;= cpu_load_percent &lt;= 100.0</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="254.2793" x="173.7759" y="763.6855">- 0.0 &lt;= memory_used_percent &lt;= 100.0</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="228.293" x="173.7759" y="777.6543">- 0.0 &lt;= disk_used_percent &lt;= 100.0</text><rect fill="#313139" height="47.9375" rx="12.5" ry="12.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="212.9199" x="194.4556" y="810.4844"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="144.5098" x="204.4556" y="831.623">Hostname sanity check:</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="192.9199" x="204.4556" y="845.5918">`data["hostname"].strip() != ""`</text><ellipse cx="300.9155" cy="889.4219" fill="none" rx="11" ry="11" style="stroke:#DDDDDD;stroke-width:1;"/><ellipse cx="300.9155" cy="889.4219" fill="#DDDDDD" rx="6" ry="6" style="stroke:#DDDDDD;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="300.9155" x2="300.9155" y1="67.2969" y2="87.2969"/><polygon fill="#E7E7E7" points="296.9155,77.2969,300.9155,87.2969,304.9155,77.2969,300.9155,81.2969" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="300.9155" x2="300.9155" y1="135.2344" y2="155.2344"/><polygon fill="#E7E7E7" points="296.9155,145.2344,300.9155,155.2344,304.9155,145.2344,300.9155,149.2344" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="300.9155" x2="300.9155" y1="203.1719" y2="223.1719"/><polygon fill="#E7E7E7" points="296.9155,213.1719,300.9155,223.1719,304.9155,213.1719,300.9155,217.1719" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="300.9155" x2="300.9155" y1="271.1094" y2="291.1094"/><polygon fill="#E7E7E7" points="296.9155,281.1094,300.9155,291.1094,304.9155,281.1094,300.9155,285.1094" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="300.9155" x2="300.9155" y1="339.0469" y2="359.0469"/><polygon fill="#E7E7E7" points="296.9155,349.0469,300.9155,359.0469,304.9155,349.0469,300.9155,353.0469" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="300.9155" x2="300.9155" y1="406.9844" y2="426.9844"/><polygon fill="#E7E7E7" points="296.9155,416.9844,300.9155,426.9844,304.9155,416.9844,300.9155,420.9844" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="300.9155" x2="300.9155" y1="474.9219" y2="494.9219"/><polygon fill="#E7E7E7" points="296.9155,484.9219,300.9155,494.9219,304.9155,484.9219,300.9155,488.9219" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="300.9155" x2="300.9155" y1="584.7656" y2="604.7656"/><polygon fill="#E7E7E7" points="296.9155,594.7656,300.9155,604.7656,304.9155,594.7656,300.9155,598.7656" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="300.9155" x2="300.9155" y1="680.6406" y2="700.6406"/><polygon fill="#E7E7E7" points="296.9155,690.6406,300.9155,700.6406,304.9155,690.6406,300.9155,694.6406" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="300.9155" x2="300.9155" y1="790.4844" y2="810.4844"/><polygon fill="#E7E7E7" points="296.9155,800.4844,300.9155,810.4844,304.9155,800.4844,300.9155,804.4844" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="300.9155" x2="300.9155" y1="858.4219" y2="878.4219"/><polygon fill="#E7E7E7" points="296.9155,868.4219,300.9155,878.4219,304.9155,868.4219,300.9155,872.4219" style="stroke:#E7E7E7;stroke-width:1;"/><!--SRC=[RL9DRzD04BtxLmo-a42RcXu3Hgege45yHBGtWZPRUz8iiNUNdN71KdzyP_qHICd9cZVllPctOpPS8Lov6k6JleM5tGGDdvqrx0ASmjdM4PyHQsu8q9RU6Sl0I0mJttRVb_1U4ryi5zCaUGxNlqrTQOkm4Jrl4OIFTq6pSRRJ9Sd3uWaqNzcZSnuI0G8dysK_gQjePTUnKb6XUeKQ5LA7fk0ceDAsL47REwJ9TFqwcT-8vh8oAEkJqAFDXtSt1m4ZRSW2sdlOYaU5105_DQ9UMQcb47jByF7wwnSfo3jBEFXBNQ2vxoHzGpG4wx6A0ow8CCJeadhVc0qv2bSYv3cSPrdaBdKWx2VTkhADYbApXdplF_j9plO1BxTOx03_U2mOIzXXI-259ub5cCQSLjUOda3QU3OrAiB2oKka9z8kVACgfqlbCHGYwS0QQnTQrH0UugMXtI4Q7w3r24LSWcJUAOm3mP1SBaJeS6vioCrYuyLeD60WFyz6rc7n_HQFE1Z3XBJycYquMxNJ-H7Fjpba4Svc6Rp9uMciYBtAfFaFvqZAOxJ_Gkz9ikJL67ROhrjtlDVtlu__GouTZ9zCuLaEQIft8tR-4G00]--></g></svg>